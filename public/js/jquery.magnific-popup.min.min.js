/*! Magnific Popup - v0.9.9 - 2013-12-04
 * http://dimsemenov.com/plugins/magnific-popup/
 * Copyright (c) 2013 Dmitry Semenov; */
(function(L){var d,W,P,Y,a,F,b,T="Close",I="BeforeClose",K="AfterClose",f="BeforeAppend",Z="MarkupParse",M="Open",U="Change",N="mfp",O="."+N,g="mfp-ready",o="mfp-removing",k="mfp-prevent-close",h=function(){},H=!!window.jQuery,u=L(window),i=function(J,G){d.ev.on(N+J+O,G)},S=function(G,Q,J,V){var X=document.createElement("div");return X.className="mfp-"+G,J&&(X.innerHTML=J),V?Q&&Q.appendChild(X):(X=L(X),Q&&X.appendTo(Q)),X},c=function(G,J){d.ev.triggerHandler(N+G,J),d.st.callbacks&&(G=G.charAt(0).toLowerCase()+G.slice(1),d.st.callbacks[G]&&d.st.callbacks[G].apply(d,L.isArray(J)?J:[J]))},q=function(G){return G===b&&d.currTemplate.closeBtn||(d.currTemplate.closeBtn=L(d.st.closeMarkup.replace("%title%",d.st.tClose)),b=G),d.currTemplate.closeBtn},E=function(){L.magnificPopup.instance||(d=new h,d.init(),L.magnificPopup.instance=d)},D=function(){var G=document.createElement("p").style,J=["ms","O","Moz","Webkit"];if(void 0!==G.transition){return !0}for(;J.length;){if(J.pop()+"Transition" in G){return !0}}return !1};h.prototype={constructor:h,init:function(){var G=navigator.appVersion;d.isIE7=-1!==G.indexOf("MSIE 7."),d.isIE8=-1!==G.indexOf("MSIE 8."),d.isLowIE=d.isIE7||d.isIE8,d.isAndroid=/android/gi.test(G),d.isIOS=/iphone|ipad|ipod/gi.test(G),d.supportsTransition=D(),d.probablyMobile=d.isAndroid||d.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),Y=L(document),d.popupsCache={}},open:function(ad){P||(P=L(document.body));var af;if(ad.isObj===!1){d.items=ad.items.toArray(),d.index=0;var G,ab=ad.items;for(af=0;ab.length>af;af++){if(G=ab[af],G.parsed&&(G=G.el[0]),G===ad.el[0]){d.index=af;break}}}else{d.items=L.isArray(ad.items)?ad.items:[ad.items],d.index=ad.index||0}if(d.isOpen){return d.updateItemHTML(),void 0}d.types=[],F="",d.ev=ad.mainEl&&ad.mainEl.length?ad.mainEl.eq(0):Y,ad.key?(d.popupsCache[ad.key]||(d.popupsCache[ad.key]={}),d.currTemplate=d.popupsCache[ad.key]):d.currTemplate={},d.st=L.extend(!0,{},L.magnificPopup.defaults,ad),d.fixedContentPos="auto"===d.st.fixedContentPos?!d.probablyMobile:d.st.fixedContentPos,d.st.modal&&(d.st.closeOnContentClick=!1,d.st.closeOnBgClick=!1,d.st.showCloseBtn=!1,d.st.enableEscapeKey=!1),d.bgOverlay||(d.bgOverlay=S("bg").on("click"+O,function(){d.close()}),d.wrap=S("wrap").attr("tabindex",-1).on("click"+O,function(ag){d._checkIfClose(ag.target)&&d.close()}),d.container=S("container",d.wrap)),d.contentContainer=S("content"),d.st.preloader&&(d.preloader=S("preloader",d.container,d.st.tLoading));var Q=L.magnificPopup.modules;for(af=0;Q.length>af;af++){var V=Q[af];V=V.charAt(0).toUpperCase()+V.slice(1),d["init"+V].call(d)}c("BeforeOpen"),d.st.showCloseBtn&&(d.st.closeBtnInside?(i(Z,function(ah,ai,ag,aj){ag.close_replaceWith=q(aj.type)}),F+=" mfp-close-btn-in"):d.wrap.append(q())),d.st.alignTop&&(F+=" mfp-align-top"),d.fixedContentPos?d.wrap.css({overflow:d.st.overflowY,overflowX:"hidden",overflowY:d.st.overflowY}):d.wrap.css({top:u.scrollTop(),position:"absolute"}),(d.st.fixedBgPos===!1||"auto"===d.st.fixedBgPos&&!d.fixedContentPos)&&d.bgOverlay.css({height:Y.height(),position:"absolute"}),d.st.enableEscapeKey&&Y.on("keyup"+O,function(ag){27===ag.keyCode&&d.close()}),u.on("resize"+O,function(){d.updateSize()}),d.st.closeOnContentClick||(F+=" mfp-auto-cursor"),F&&d.wrap.addClass(F);var J=d.wH=u.height(),ac={};if(d.fixedContentPos&&d._hasScrollBar(J)){var X=d._getScrollbarSize();X&&(ac.marginRight=X)}d.fixedContentPos&&(d.isIE7?L("body, html").css("overflow","hidden"):ac.overflow="hidden");var ae=d.st.mainClass;return d.isIE7&&(ae+=" mfp-ie7"),ae&&d._addClassToMFP(ae),d.updateItemHTML(),c("BuildControls"),L("html").css(ac),d.bgOverlay.add(d.wrap).prependTo(d.st.prependTo||P),d._lastFocusedEl=document.activeElement,setTimeout(function(){d.content?(d._addClassToMFP(g),d._setFocus()):d.bgOverlay.addClass(g),Y.on("focusin"+O,d._onFocusIn)},16),d.isOpen=!0,d.updateSize(J),c(M),ad},close:function(){d.isOpen&&(c(I),d.isOpen=!1,d.st.removalDelay&&!d.isLowIE&&d.supportsTransition?(d._addClassToMFP(o),setTimeout(function(){d._close()},d.st.removalDelay)):d._close())},_close:function(){c(T);var G=o+" "+g+" ";if(d.bgOverlay.detach(),d.wrap.detach(),d.container.empty(),d.st.mainClass&&(G+=d.st.mainClass+" "),d._removeClassFromMFP(G),d.fixedContentPos){var J={marginRight:""};d.isIE7?L("body, html").css("overflow",""):J.overflow="",L("html").css(J)}Y.off("keyup"+O+" focusin"+O),d.ev.off(O),d.wrap.attr("class","mfp-wrap").removeAttr("style"),d.bgOverlay.attr("class","mfp-bg"),d.container.attr("class","mfp-container"),!d.st.showCloseBtn||d.st.closeBtnInside&&d.currTemplate[d.currItem.type]!==!0||d.currTemplate.closeBtn&&d.currTemplate.closeBtn.detach(),d._lastFocusedEl&&L(d._lastFocusedEl).focus(),d.currItem=null,d.content=null,d.currTemplate=null,d.prevHeight=0,c(K)},updateSize:function(G){if(d.isIOS){var Q=document.documentElement.clientWidth/window.innerWidth,J=window.innerHeight*Q;d.wrap.css("height",J),d.wH=J}else{d.wH=G||u.height()}d.fixedContentPos||d.wrap.css("height",d.wH),c("Resize")},updateItemHTML:function(){var J=d.items[d.index];d.contentContainer.detach(),d.content&&d.content.detach(),J.parsed||(J=d.parseEl(d.index));var V=J.type;if(c("BeforeChange",[d.currItem?d.currItem.type:"",V]),d.currItem=J,!d.currTemplate[V]){var Q=d.st[V]?d.st[V].markup:!1;c("FirstMarkupParse",Q),d.currTemplate[V]=Q?L(Q):!0}a&&a!==J.type&&d.container.removeClass("mfp-"+a+"-holder");var G=d["get"+V.charAt(0).toUpperCase()+V.slice(1)](J,d.currTemplate[V]);d.appendContent(G,V),J.preloaded=!0,c(U,J),a=J.type,d.container.prepend(d.contentContainer),c("AfterChange")},appendContent:function(J,G){d.content=J,J?d.st.showCloseBtn&&d.st.closeBtnInside&&d.currTemplate[G]===!0?d.content.find(".mfp-close").length||d.content.append(q()):d.content=J:d.content="",c(f),d.container.addClass("mfp-"+G+"-holder"),d.contentContainer.append(d.content)},parseEl:function(J){var X=d.items[J],Q=X.type;if(X=X.tagName?{el:L(X)}:{data:X,src:X.src},X.el){for(var V=d.types,G=0;V.length>G;G++){if(X.el.hasClass("mfp-"+V[G])){Q=V[G];break}}X.src=X.el.attr("data-mfp-src"),X.src||(X.src=X.el.attr("href"))}return X.type=Q||d.st.type||"inline",X.index=J,X.parsed=!0,d.items[J]=X,c("ElementParse",X),d.items[J]},addGroup:function(G,Q){var J=function(X){X.mfpEl=this,d._openClick(X,G,Q)};Q||(Q={});var V="click.magnificPopup";Q.mainEl=G,Q.items?(Q.isObj=!0,G.off(V).on(V,J)):(Q.isObj=!1,Q.delegate?G.off(V).on(V,Q.delegate,J):(Q.items=G,G.off(V).on(V,J)))},_openClick:function(J,X,Q){var V=void 0!==Q.midClick?Q.midClick:L.magnificPopup.defaults.midClick;if(V||2!==J.which&&!J.ctrlKey&&!J.metaKey){var G=void 0!==Q.disableOn?Q.disableOn:L.magnificPopup.defaults.disableOn;if(G){if(L.isFunction(G)){if(!G.call(d)){return !0}}else{if(G>u.width()){return !0}}}J.type&&(J.preventDefault(),d.isOpen&&J.stopPropagation()),Q.el=L(J.mfpEl),Q.delegate&&(Q.items=X.find(Q.delegate)),d.open(Q)}},updateStatus:function(G,J){if(d.preloader){W!==G&&d.container.removeClass("mfp-s-"+W),J||"loading"!==G||(J=d.st.tLoading);var Q={status:G,text:J};c("UpdateStatus",Q),G=Q.status,J=Q.text,d.preloader.html(J),d.preloader.find("a").on("click",function(V){V.stopImmediatePropagation()}),d.container.addClass("mfp-s-"+G),W=G}},_checkIfClose:function(Q){if(!L(Q).hasClass(k)){var J=d.st.closeOnContentClick,G=d.st.closeOnBgClick;if(J&&G){return !0}if(!d.content||L(Q).hasClass("mfp-close")||d.preloader&&Q===d.preloader[0]){return !0}if(Q===d.content[0]||L.contains(d.content[0],Q)){if(J){return !0}}else{if(G&&L.contains(document,Q)){return !0}}return !1}},_addClassToMFP:function(G){d.bgOverlay.addClass(G),d.wrap.addClass(G)},_removeClassFromMFP:function(G){this.bgOverlay.removeClass(G),d.wrap.removeClass(G)},_hasScrollBar:function(G){return(d.isIE7?Y.height():document.body.scrollHeight)>(G||u.height())},_setFocus:function(){(d.st.focus?d.content.find(d.st.focus).eq(0):d.wrap).focus()},_onFocusIn:function(G){return G.target===d.wrap[0]||L.contains(d.wrap[0],G.target)?void 0:(d._setFocus(),!1)},_parseMarkup:function(G,Q,J){var V;J.data&&(Q=L.extend(J.data,Q)),c(Z,[G,Q,J]),L.each(Q,function(ab,X){if(void 0===X||X===!1){return !0}if(V=ab.split("_"),V.length>1){var ad=G.find(O+"-"+V[0]);if(ad.length>0){var ac=V[1];"replaceWith"===ac?ad[0]!==X[0]&&ad.replaceWith(X):"img"===ac?ad.is("img")?ad.attr("src",X):ad.replaceWith('<img src="'+X+'" class="'+ad.attr("class")+'" />'):ad.attr(V[1],X)}}else{G.find(O+"-"+ab).html(X)}})},_getScrollbarSize:function(){if(void 0===d.scrollbarSize){var G=document.createElement("div");G.id="mfp-sbm",G.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(G),d.scrollbarSize=G.offsetWidth-G.clientWidth,document.body.removeChild(G)}return d.scrollbarSize}},L.magnificPopup={instance:null,proto:h.prototype,modules:[],open:function(J,G){return E(),J=J?L.extend(!0,{},J):{},J.isObj=!0,J.index=G||0,this.instance.open(J)},close:function(){return L.magnificPopup.instance&&L.magnificPopup.instance.close()},registerModule:function(J,G){G.options&&(L.magnificPopup.defaults[J]=G.options),L.extend(this.proto,G.proto),this.modules.push(J)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},L.fn.magnificPopup=function(J){E();var X=L(this);if("string"==typeof J){if("open"===J){var Q,V=H?X.data("magnificPopup"):X[0].magnificPopup,G=parseInt(arguments[1],10)||0;V.items?Q=V.items[G]:(Q=X,V.delegate&&(Q=Q.find(V.delegate)),Q=Q.eq(G)),d._openClick({mfpEl:Q},X,V)}else{d.isOpen&&d[J].apply(d,Array.prototype.slice.call(arguments,1))}}else{J=L.extend(!0,{},J),H?X.data("magnificPopup",J):X[0].magnificPopup=J,d.addGroup(X,J)}return X};var B,A,l,y="inline",n=function(){l&&(A.after(l.addClass(B)).detach(),l=null)};L.magnificPopup.registerModule(y,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){d.types.push(y),i(T+"."+y,function(){n()})},getInline:function(J,X){if(n(),J.src){var Q=d.st.inline,V=L(J.src);if(V.length){var G=V[0].parentNode;G&&G.tagName&&(A||(B=Q.hiddenClass,A=S(B),B="mfp-"+B),l=V.after(A).detach().removeClass(B)),d.updateStatus("ready")}else{d.updateStatus("error",Q.tNotFound),V=L("<div>")}return J.inlineElement=V,V}return d.updateStatus("ready"),d._parseMarkup(X,{},J),X}}});var s,t="ajax",x=function(){s&&P.removeClass(s)},m=function(){x(),d.req&&d.req.abort()};L.magnificPopup.registerModule(t,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){d.types.push(t),s=d.st.ajax.cursor,i(T+"."+t,m),i("BeforeChange."+t,m)},getAjax:function(G){s&&P.addClass(s),d.updateStatus("loading");var J=L.extend({url:G.src,success:function(X,Q,V){var ab={data:X,xhr:V};c("ParseAjax",ab),d.appendContent(L(ab.data),t),G.finished=!0,x(),d._setFocus(),setTimeout(function(){d.wrap.addClass(g)},16),d.updateStatus("ready"),c("AjaxContentAdded")},error:function(){x(),G.finished=G.loadError=!0,d.updateStatus("error",d.st.ajax.tError.replace("%url%",G.src))}},d.st.ajax.settings);return d.req=L.ajax(J),""}}});var R,z=function(G){if(G.data&&void 0!==G.data.title){return G.data.title}var J=d.st.image.titleSrc;if(J){if(L.isFunction(J)){return J.call(d,G)}if(G.el){return G.el.attr(J)||""}}return""};L.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'},proto:{initImage:function(){var J=d.st.image,G=".image";d.types.push("image"),i(M+G,function(){"image"===d.currItem.type&&J.cursor&&P.addClass(J.cursor)}),i(T+G,function(){J.cursor&&P.removeClass(J.cursor),u.off("resize"+O)}),i("Resize"+G,d.resizeImage),d.isLowIE&&i("AfterChange",d.resizeImage)},resizeImage:function(){var J=d.currItem;if(J&&J.img&&d.st.image.verticalFit){var G=0;d.isLowIE&&(G=parseInt(J.img.css("padding-top"),10)+parseInt(J.img.css("padding-bottom"),10)),J.img.css("max-height",d.wH-G)}},_onImageHasSize:function(G){G.img&&(G.hasSize=!0,R&&clearInterval(R),G.isCheckingImgSize=!1,c("ImageHasSize",G),G.imgHidden&&(d.content&&d.content.removeClass("mfp-loading"),G.imgHidden=!1))},findImageSize:function(G){var Q=0,J=G.img[0],V=function(X){R&&clearInterval(R),R=setInterval(function(){return J.naturalWidth>0?(d._onImageHasSize(G),void 0):(Q>200&&clearInterval(R),Q++,3===Q?V(10):40===Q?V(50):100===Q&&V(500),void 0)},X)};V(1)},getImage:function(J,ac){var V=0,X=function(){J&&(J.img[0].complete?(J.img.off(".mfploader"),J===d.currItem&&(d._onImageHasSize(J),d.updateStatus("ready")),J.hasSize=!0,J.loaded=!0,c("ImageLoadComplete")):(V++,200>V?setTimeout(X,100):ad()))},ad=function(){J&&(J.img.off(".mfploader"),J===d.currItem&&(d._onImageHasSize(J),d.updateStatus("error",ab.tError.replace("%url%",J.src))),J.hasSize=!0,J.loaded=!0,J.loadError=!0)},ab=d.st.image,G=ac.find(".mfp-img");if(G.length){var Q=document.createElement("img");Q.className="mfp-img",J.img=L(Q).on("load.mfploader",X).on("error.mfploader",ad),Q.src=J.src,G.is("img")&&(J.img=J.img.clone()),Q=J.img[0],Q.naturalWidth>0?J.hasSize=!0:Q.width||(J.hasSize=!1)}return d._parseMarkup(ac,{title:z(J),img_replaceWith:J.img},J),d.resizeImage(),J.hasSize?(R&&clearInterval(R),J.loadError?(ac.addClass("mfp-loading"),d.updateStatus("error",ab.tError.replace("%url%",J.src))):(ac.removeClass("mfp-loading"),d.updateStatus("ready")),ac):(d.updateStatus("loading"),J.loading=!0,J.hasSize||(J.imgHidden=!0,ac.addClass("mfp-loading"),d.findImageSize(J)),ac)}}});var j,C=function(){return void 0===j&&(j=void 0!==document.createElement("p").style.MozTransform),j};L.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(G){return G.is("img")?G:G.find("img")}},proto:{initZoom:function(){var X,J=d.st.zoom,ad=".zoom";if(J.enabled&&d.supportsTransition){var Q,ab,G=J.duration,ac=function(ai){var ah=ai.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),af="all "+J.duration/1000+"s "+J.easing,ag={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},ae="transition";return ag["-webkit-"+ae]=ag["-moz-"+ae]=ag["-o-"+ae]=ag[ae]=af,ah.css(ag),ah},V=function(){d.content.css("visibility","visible")};i("BuildControls"+ad,function(){if(d._allowZoom()){if(clearTimeout(Q),d.content.css("visibility","hidden"),X=d._getItemToZoom(),!X){return V(),void 0}ab=ac(X),ab.css(d._getOffset()),d.wrap.append(ab),Q=setTimeout(function(){ab.css(d._getOffset(!0)),Q=setTimeout(function(){V(),setTimeout(function(){ab.remove(),X=ab=null,c("ZoomAnimationEnded")},16)},G)},16)}}),i(I+ad,function(){if(d._allowZoom()){if(clearTimeout(Q),d.st.removalDelay=G,!X){if(X=d._getItemToZoom(),!X){return}ab=ac(X)}ab.css(d._getOffset(!0)),d.wrap.append(ab),d.content.css("visibility","hidden"),setTimeout(function(){ab.css(d._getOffset())},16)}}),i(T+ad,function(){d._allowZoom()&&(V(),ab&&ab.remove(),X=null)})}},_allowZoom:function(){return"image"===d.currItem.type},_getItemToZoom:function(){return d.currItem.hasSize?d.currItem.img:!1},_getOffset:function(J){var ab;ab=J?d.currItem.img:d.st.zoom.opener(d.currItem.el||d.currItem);var Q=ab.offset(),V=parseInt(ab.css("padding-top"),10),G=parseInt(ab.css("padding-bottom"),10);Q.top-=L(window).scrollTop()-V;var X={width:ab.width(),height:(H?ab.innerHeight():ab[0].offsetHeight)-G-V};return C()?X["-moz-transform"]=X.transform="translate("+Q.left+"px,"+Q.top+"px)":(X.left=Q.left,X.top=Q.top),X}}});var w="iframe",aa="//about:blank",p=function(J){if(d.currTemplate[w]){var G=d.currTemplate[w].find("iframe");G.length&&(J||(G[0].src=aa),d.isIE8&&G.css("display",J?"block":"none"))}};L.magnificPopup.registerModule(w,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){d.types.push(w),i("BeforeChange",function(G,J,Q){J!==Q&&(J===w?p():Q===w&&p(!0))}),i(T+"."+w,function(){p()})},getIframe:function(J,X){var Q=J.src,V=d.st.iframe;L.each(V.patterns,function(){return Q.indexOf(this.index)>-1?(this.id&&(Q="string"==typeof this.id?Q.substr(Q.lastIndexOf(this.id)+this.id.length,Q.length):this.id.call(this,Q)),Q=this.src.replace("%id%",Q),!1):void 0});var G={};return V.srcAction&&(G[V.srcAction]=Q),d._parseMarkup(X,G,J),d.updateStatus("ready"),X}}});var v=function(J){var G=d.items.length;return J>G-1?J-G:0>J?G+J:J},r=function(G,J,Q){return G.replace(/%curr%/gi,J+1).replace(/%total%/gi,Q)};L.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var Q=d.st.gallery,J=".mfp-gallery",G=Boolean(L.fn.mfpFastClick);return d.direction=!0,Q&&Q.enabled?(F+=" mfp-gallery",i(M+J,function(){Q.navigateByImgClick&&d.wrap.on("click"+J,".mfp-img",function(){return d.items.length>1?(d.next(),!1):void 0}),Y.on("keydown"+J,function(V){37===V.keyCode?d.prev():39===V.keyCode&&d.next()})}),i("UpdateStatus"+J,function(X,V){V.text&&(V.text=r(V.text,d.currItem.index,d.items.length))}),i(Z+J,function(X,ac,V,ab){var ad=d.items.length;V.counter=ad>1?r(Q.tCounter,ab.index,ad):""}),i("BuildControls"+J,function(){if(d.items.length>1&&Q.arrows&&!d.arrowLeft){var ab=Q.arrowMarkup,V=d.arrowLeft=L(ab.replace(/%title%/gi,Q.tPrev).replace(/%dir%/gi,"left")).addClass(k),ac=d.arrowRight=L(ab.replace(/%title%/gi,Q.tNext).replace(/%dir%/gi,"right")).addClass(k),X=G?"mfpFastClick":"click";V[X](function(){d.prev()}),ac[X](function(){d.next()}),d.isIE7&&(S("b",V[0],!1,!0),S("a",V[0],!1,!0),S("b",ac[0],!1,!0),S("a",ac[0],!1,!0)),d.container.append(V.add(ac))}}),i(U+J,function(){d._preloadTimeout&&clearTimeout(d._preloadTimeout),d._preloadTimeout=setTimeout(function(){d.preloadNearbyImages(),d._preloadTimeout=null},16)}),i(T+J,function(){Y.off(J),d.wrap.off("click"+J),d.arrowLeft&&G&&d.arrowLeft.add(d.arrowRight).destroyMfpFastClick(),d.arrowRight=d.arrowLeft=null}),void 0):!1},next:function(){d.direction=!0,d.index=v(d.index+1),d.updateItemHTML()},prev:function(){d.direction=!1,d.index=v(d.index-1),d.updateItemHTML()},goTo:function(G){d.direction=G>=d.index,d.index=G,d.updateItemHTML()},preloadNearbyImages:function(){var G,Q=d.st.gallery.preload,J=Math.min(Q[0],d.items.length),V=Math.min(Q[1],d.items.length);for(G=1;(d.direction?V:J)>=G;G++){d._preloadItem(d.index+G)}for(G=1;(d.direction?J:V)>=G;G++){d._preloadItem(d.index-G)}},_preloadItem:function(G){if(G=v(G),!d.items[G].preloaded){var J=d.items[G];J.parsed||(J=d.parseEl(G)),c("LazyLoad",J),"image"===J.type&&(J.img=L('<img class="mfp-img" />').on("load.mfploader",function(){J.hasSize=!0}).on("error.mfploader",function(){J.hasSize=!0,J.loadError=!0,c("LazyLoadError",J)}).attr("src",J.src)),J.preloaded=!0}}}});var e="retina";L.magnificPopup.registerModule(e,{options:{replaceSrc:function(G){return G.src.replace(/\.\w+$/,function(J){return"@2x"+J})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var J=d.st.retina,G=J.ratio;G=isNaN(G)?G():G,G>1&&(i("ImageHasSize."+e,function(Q,V){V.img.css({"max-width":V.img[0].naturalWidth/G,width:"100%"})}),i("ElementParse."+e,function(Q,V){V.src=J.replaceSrc(V,G)}))}}}}),function(){var G=1000,Q="ontouchstart" in window,J=function(){u.off("touchmove"+X+" touchend"+X)},V="mfpFastClick",X="."+V;L.fn.mfpFastClick=function(ab){return L(this).each(function(){var ag,ae=L(this);if(Q){var ah,ai,aj,af,ac,ad;ae.on("touchstart"+X,function(ak){af=!1,ad=1,ac=ak.originalEvent?ak.originalEvent.touches[0]:ak.touches[0],ai=ac.clientX,aj=ac.clientY,u.on("touchmove"+X,function(al){ac=al.originalEvent?al.originalEvent.touches:al.touches,ad=ac.length,ac=ac[0],(Math.abs(ac.clientX-ai)>10||Math.abs(ac.clientY-aj)>10)&&(af=!0,J())}).on("touchend"+X,function(al){J(),af||ad>1||(ag=!0,al.preventDefault(),clearTimeout(ah),ah=setTimeout(function(){ag=!1},G),ab())})})}ae.on("click"+X,function(){ag||ab()})})},L.fn.destroyMfpFastClick=function(){L(this).off("touchstart"+X+" click"+X),Q&&u.off("touchmove"+X+" touchend"+X)}}(),E()})(window.jQuery||window.Zepto);